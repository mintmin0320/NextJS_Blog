---
title: TML - Jest를 이용한 테스트 코드 적용 내용 정리
date: '2023-09-09'
tags: ['react']
draft: false
summary: 'Jest 사용방법에 대해 공부해보자.'
---

# Jest 
- JS 테스팅 프레임워크
- 애플리케이션의 안정성을 향상시키고 리팩토링 및 기능 추가 시 발생하는 문제점을 사전에 점검할 수 있다.
- 프로젝트의 품질이 향상될 수 있다.
- 단위 테스트를 위해 사용


<br/> 

## React 코드에 적용하기
- 파일 확장자명을 test, spec, tests를 넣으면 Jest 프레임워크가 인식한다.

### describe
- Jest 함수로 케이스들을 그룹화하는데 사용 (여러 관련 테스트를 그룹화하는 블록으로 만든다)
![](https://velog.velcdn.com/images/mintmin0320/post/b77c6b6c-85ec-41d8-a096-be3a928478b6/image.png)
```
/* ex */
describe('addition', () => {
  it('should add two numbers correctly', () => {
    // ... your test logic here
  });
});
```

### it(== test)
- 
- 개별 테스트를 수행하는 곳(실질적인 테스트 구간)
- 각 테스트를 작은 문장처럼 설명



![](https://velog.velcdn.com/images/mintmin0320/post/5af60347-f334-4d75-8fb7-ea1470151290/image.png)
#### expect
- 값을 테스트할 때마다 사용
- matcher와 함께 사용
```
test('two plus two is four', () => {
  expect(2 + 2).toBe(4);
});
```

#### matcher
- 다른 방법으로 값을 테스트하도록 사용한다.

#### render
- DOM에 컴포넌트를 렌더링하는 함수
- 인자는 렌더링할 컴포넌트가 들어간다.
- 소스코드가 복잡해지면 screen 객체를 사용하기를 권장한다 -> 쿼리가 많아진다.

#### 쿼리 함수
- 쿼리는 페이지에서 요소를 찾기 위해 테스트 라이브러리가 제공하는 방법
- 여러 유형의 쿼리 ( “get”, “find”, “query”) getByText가 쿼리함수 중 하나
- 각 유형의 차이점
-> 요소가 발견되지 않으면 쿼리에서 오류가 발생하는지 또는 Promise를 반환하고 다시 시도하는지 여부

- getBy*: 주어진 쿼리 조건과 일치하는 첫 번째 요소를 반환합니다.
- getAllBy*: 주어진 쿼리 조건과 일치하는 모든 요소를 배열로 반환
- queryBy*: 주어진 쿼리 조건과 일치하는 첫 번째 요소를 반환하거나, 일치하는 요소가 없으면 null을 반환
- queryAllBy*: 주어진 쿼리 조건과 일치하는 모든 요소를 배열로 반환하거나, 일치하는 요소가 없으면 빈 배열을 반환
- findBy*: 주어진 쿼리 조건과 일치하는 첫 번째 요소를 반환하는 프로미스를 반환
- findAllBy*: 주어진 쿼리 조건과 일치하는 모든 요소를 반환하는 프로미스를 반환

<br/>

## 테스트 코드 실행하기
```
npm test
```